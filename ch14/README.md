## 测试  

自动化测试是一个单独的程序，它执行主程序的组件，并验证它们的行为是否符合预期。  

Go包含一个“testing”包，你可以用它来为代码编写自动化测试，还包含一个“go test”命令，你可以用来运行这些测试。  

## 要点  

■　自动化测试使用一组特定的输入运行代码，并寻找特定的结果。如果代码输出与期望值匹配，则测试“通过”；否则，测试“失败”。  
■　go test工具用于运行测试。它在指定的包中查找文件名以_test.go结尾的文件。  
■　你不需要将测试与正在测试的代码放在同一个包中，但是这样做将允许你访问该包中未导出的类型或函数。  
■　测试需要使用testing包中的类型，所以你需要在每个测试文件的顶部导入该包。  
■　一个_test.go文件可以包含一个或多个测试函数，它们的名字以Test开头。名字的其余部分可以是你想要的任何内容。  
■　测试函数必须接受单个参数：一个指向testing.T值的指针。  
■　测试代码可以对包中的函数和方法进行普通调用，然后检查返回值是否与预期值匹配。如果不匹配，测试失败。  
■　你可以通过对testing.T值调用方法（例如Error）来报告测试失败。大多数方法都接受一个字符串，其中包含解释测试失败原因的信息。  
■　Errorf方法的工作原理类似于Error，但是它接受格式化字符串，就像fmt.Printf一样。  
■　_test.go文件中名字不以Test开头的函数不会由go test运行。它们可以被测试用作“helper”函数。  
■　表驱动测试是处理输入和预期输出的“表”的测试。它们将每一组输入传递给正在测试的代码，并检查代码的输出是否与预期值匹配。  

